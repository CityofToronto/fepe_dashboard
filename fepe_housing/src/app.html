<!--
IMPORTANT:
Any resources from this project should be referenced using SRC_PATH preprocessor var.
See examples below in the boilerplate code
-->

<!--
1. HEADER
Everything inside this cot-app:head tag will be loaded at the end of the page's HEAD tag.
It should contain stylesheet references (and possibly other stuff) that this application requires.
-->
<!-- cot-app:head -->

<!-- @if !IS_EMBEDDED -->
<!-- standalone apps may want to set some meta tags in here -->
<title>fepe_housing</title>
<meta property="og:title" content="fepe_housing">
<meta name="DC.title" content="fepe_housing">
<meta name="WT.sp" content="fepe_housing">
<meta property="og:description" content="Page Description">
<meta name="DC.description" lang="en" content="Page Description">
<meta name="description" content="Page Description">
<meta name="keywords" content="Key Words">
<meta name="Author" content="City of Toronto">
<meta name="Owner" content="City of Toronto">
<meta name="DC.language" content="en-CA">
<meta name="DC.subject" content="fepe_housing">
<meta charset="UTF-8">


<!--@endif-->

<!-- From here to the next endbuild tag, all the files will be concatenated into a single file called main.css: -->
<!--@exec startBuildTagWithCacheBuster('styles/main.css')-->
<!-- CoreJS uses the following core:css/endinject tag to inject bower_components stylesheet file references: -->
<!-- core:css -->
<!-- endinject -->

<!-- place your application stylesheet references here: -->
<link rel="stylesheet" type="text/css" href="<!-- @echo SRC_PATH -->/styles/main.css">

<!-- endbuild -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>


<!-- From here to the next endbuild tag, all the files will be concatenated into a single print-only file called core_print.css: -->
<!--@exec startBuildTagWithCacheBuster('styles/core_print.css', 'media="print"')-->
<!-- CoreJS uses the following core_print:css/endinject tag to inject bower_components print-only stylesheet file references: -->
<!-- core_print:css -->
<!-- endinject -->

<!-- place any application print-only stylesheet references here -->

<!-- endbuild -->
<!-- cot-app:head end-->

<!--
2. BODY
Everything inside this cot-app:body tag will be loaded inside the webpage
It should contain the HTML elements that make up the visual portion of this application.
IMPORTANT:
Remember to use unique element IDs and class names so that this app doesn't interfere with other parts of the cframe/website
-->
<!-- cot-app:body -->
<div id="fepe_housing_container">
  <div class="row">
    <div class="col-sm-12">
      <div style="height: 320px; overflow: hidden; margin-bottom: 2em;">
        <img style="width: 100%; margin-top:-200px;" src="https://images.unsplash.com/photo-1494034709105-72990d084ac5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2250&q=80" />
      </div>
    </div>
  </div>


  <div class="row" id="js-page-01">
      <div class="col-sm-12">
        <h2>Affordable Housing Initiatives</h2>
      </div>
      <div class="col-sm-12">
        <div class="media" style="margin-bottom: 2em;">
          <div style="float: left; margin-right: 1em; overflow: hidden; height: 240px;">
            <a href="#">
              <img class="media-object" style="width:320px;" src="https://images.unsplash.com/photo-1534714259038-764cb4cf1d58?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3150&q=80" alt="...">
            </a>
          </div>
          <div class="media-body">
            <h3>Housing Now Dashboard</h4>
            <p>Housing Now is an initiative to activate 11 City-owned sites for the development of affordable housing within mixed-income, mixed-use, transit-oriented communities.</p>
            <p>City Council launched the first phase of Housing Now in 2019. This phase is expected to deliver over 10,000 new residential homes, including approximately 3,700 affordable rental homes.</p>
            <a href="#page/page-03" class="btn btn-default">View Housing Now Dashboard</a>
          </div>
        </div>
        <div class="media" style="margin-bottom: 2em;">
          <div style="float: left; margin-right: 1em; overflow: hidden; height: 240px;">
            <a href="#">
              <img class="media-object"  style="width:320px; margin-top: -50px;" src="https://images.unsplash.com/photo-1489418466200-66b3e49c9e5c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1300&q=80" alt="...">
            </a>
          </div>
          <div class="media-body">
            <h3>Affordable Rental Development Dashboard</h4>
            <p>Toronto City Council approved the Open Door Affordable Housing Program in 2016 to accelerate affordable housing construction by providing City financial contributions including capital funding and fees and property tax relief, fast-tracking planning approvals, and activating surplus public land.</p>
            <a href="#page/page-04" class="btn btn-default">View Affordable Rental Development Dashboard</a>
          </div>
        </div>
      </div>
 
    <div class="col-sm-6">
      <div class="panel panel-default">
          <div class="panel-heading">Rental Units by 2026</div>
          <div class="panel-body">
            <cotui-chart  style="height: 240px" id="js-units--ownedrented" chart-type="doughnut" caption="34,763" chart-title="Total Estimated Units" x-axislabel="Units" y-axislabel="Total Units"></cotui-chart>   
          </div>
          <div class="panel-footer"><small>* Estimated</small></div>
        </div>
    </div>
    <div class="col-sm-6">
      <div class="panel panel-default">
        <div class="panel-heading">Availability By Year</div>
        <div class="panel-body">
          <cotui-chart style="height: 240px" id="js-units-by-year" chart-type="bar" chart-stacked="true" chart-title-hide chart-title="Estimated Availability By Year" x-axislabel="Year" y-axislabel="Total Units/Homes"></cotui-chart>
        </div>
        <div class="panel-footer"><small>* Estimated</small></div>
      </div>
    </div>
 
    <div class="col-sm-4">
      <cotui-chart style="height: 240px" id="js-units-by-year" chart-colour="#E48B69" chart-type="card" chart-title="# of active affordable rental developments" x-axislabel="Year" y-axislabel="Total Units/Homes"></cotui-chart>
    </div>
    <div class="col-sm-4">
      <cotui-chart style="height: 240px" id="js-units-by-year" chart-colour="#E48B69" chart-type="card" chart-title="# of projects in pre-construction" x-axislabel="Year" y-axislabel="Total Units/Homes"></cotui-chart>
    </div>
    <div class="col-sm-4">
      <cotui-chart style="height: 240px" id="js-units-by-year" chart-colour="#E48B69" chart-type="card" chart-title="# of projects in pre-construction" x-axislabel="Year" y-axislabel="Total Units/Homes"></cotui-chart>
    </div>
  </div>
  


  <div class="row" id="js-page-02" hidden>
    <div class="col-sm-12">
      <h2>Affordable Housing Projects</h2>
    </div>
    <div class="col-sm-6">
      <div class="panel panel-default">
        <div class="panel-heading" style="text-align: right;">
          <div class="btn-group" data-toggle="buttons">
            <label class="btn btn-default active"><input type="radio" name="js-view--a" id="js-view-map" checked>Map</label>
            <label class="btn btn-default"><input type="radio" name="js-view--a" id="js-view-list" >List</label>
          </div>
        </div>
        <div class="panel-body map">
          <div id="js-allhousing-map" class="map"></div>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="panel panel-default">
          <cotui-chart  style="height: 240px" id="js-units" chart-type="pie" chart-stacked="true" chart-title="Units/Home By City Initiative" x-axislabel="Initiative" y-axislabel="Total Units/Homes"></cotui-chart>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">Planning / Business Case Status</div>
        <div class="panel-body">30 Projects</div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">Projects Started</div>
        <div class="panel-body">30 Projects</div>
      </div>
    </div>
  </div>




  


  <div class="row" id="js-page-03" hidden>
    <div class="col-sm-12">
      <h2>Housing Now Program</h2>
      <p>Affordable housing within mixed-income, mixed-use and transit-oriented communities</p>
    </div>
    <div class="col-sm-12" id="js-housing-property-master">
      <div class="panel panel-default">
        <div class="panel-heading" style="text-align: right;">
          <div class="btn-group" data-toggle="buttons">
            <label class="btn btn-default active"><input type="radio" name="js-view--b" id="js-view-map" aria-controls="js-housing-map" checked>Map</label>
            <label class="btn btn-default"><input type="radio" name="js-view--b" id="js-view-list" aria-controls="js-housing-list">List</label>
          </div>
        </div>
        <div class="panel-body">
          <div id="js-housing-map" class="map"></div>
        </div>

        <table class="table" id="js-housing-list" hidden>
          <thead>
            <th>Address</th>
            <th>Estimated Number of Units</th>
            <th>Estimated Affordable Units</th>
            <th>Business Case</th>
            <th>On Track</th>
            <th>Construction Start</th>
            <th>On Track</th>
            <th>Estimated Move In</th>
            <th>On Track</th>
          </thead>
        </table>
        
        <div class="panel-footer">
          <p>Average rents for the affordable rental units will not to exceed 80% annual CMHC Average Market Rent (AMR):</p>
          <ul>
            <li>At least 10% of units to be rented at 40% AMR</li>
            <li>Deeper affordability achieved through housing allowances/rent subsidies</li>
            <li>The sites will be offered with a priority toward long-term land leases for 99 years.</li>
          </ul>
        </div>
      </div>
      
    </div>
    <div class="col-sm-3" id="js-housing-property-detail" hidden>
                
        <div class="panel panel-default">
            <div class="panel-heading">Property Information <button class="btn btn-cancel" style="float:right; border:none; background: transparent;"><i class="glyphicon glyphicon-remove-circle"></i> <span class="sr-only">Close</span></button></div>
            <div class="panel-body">
              <h2>777 Victoria Park</h2>
            </div>
            <ul class="list-group">
              <li class="list-group-item">
                <h3 class="sr-only">Estimated Units</h3>
                <cotui-chart  style="height: 240px" id="js-housingnow-units" chart-type="doughnut" caption="34,763" chart-title="Total Estimated Units" x-axislabel="Units" y-axislabel="Total Units"></cotui-chart>
              </li> 
            </ul>

            <div class="panel-heading">Development Timeline</div>
            <ul class="timeline list-group">
              <li>
                <strong class="float-right">October 15, 2019</strong> - Business Case
                <p>Completed</p>
              </li>
              <li>
                <strong class="float-right">October 15, 2019</strong> - Market Offering/RFP
                <p>Issued</p>
              </li>
              <li>
                <strong class="float-right">2020</strong> - Construction Start
                <p>On Track</p>
              </li>
              <li>
                <strong class="float-right">2024</strong> - Estimated Move In
                <p>Slight Delay</p>
              </li>
              <li><p>&nbsp;</p></li>
            </ul>
          </div>
    </div>

  </div>


  <div class="row" id="js-page-04" hidden>
      <div class="col-sm-12">
        <h2>Affordable Rental Housing</h2>
        <p>Active affordable rental housing devlopments</p>
      </div>
      <div class="col-sm-6">
          <div class="panel panel-default">
            <div class="panel-heading">New Affordable Rental Homes Approved and Completed</div>
            <div class="panel-body">3,708</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="panel panel-default">
            <div class="panel-heading">New Affordable Rental Homes Approved and Completed</div>
            <div class="panel-body">3,708</div>
          </div>
        </div>

      <div class="col-sm-9">
        <div class="panel panel-default">
          <div class="panel-heading" style="text-align: right;">
            <div class="btn-group" data-toggle="buttons">
              <label class="btn btn-default active"><input type="radio" name="js-view--c" id="js-view-map" aria-controls="js-rental-housing-map" checked>Map</label>
              <label class="btn btn-default"><input type="radio" name="js-view--c" id="js-view-list" aria-controls="js-rental-housing-list" >List</label>
            </div>
          </div>
          <div id="js-rental-housing-map" class="panel-body">
            <div class="map-lg"></div>
          </div>
          <table class="table" id="js-rental-housing-list" hidden>
            <thead>
              <th>Address</th>
              <th>Estimated Number of Units</th>
              <th>Estimated Affordable Units</th>
              <th>Business Case</th>
              <th>On Track</th>
              <th>Construction Start</th>
              <th>On Track</th>
              <th>Estimated Move In</th>
              <th>On Track</th>
            </thead>
          </table>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="panel panel-default">
          <div class="panel-heading">Rental Property Details</div>
          <div class="panel-body"><h1>6<small>units</small></h1></div>
          <div class="panel-body">
            <p>Mynikker Holdings Inc.</p>
            <p>Address: 30 Cosburn Ave</p>
            <p>Incentives Approval: Oct 17</p>
            <p>Planning Status: Completed</p>
            <p>Construction Start: 2018-04-03</p>
            <p>Project Completion: 2018-01-03</p>
          </div>
          
          <ul class="list-group">
            <li class="list-group-item">
              <h3>City Funding Contributions</h3>
              <cotui-chart  style="height: 240px" id="js-rental-incentive" chart-type="pie" caption="34,763" chart-title="City Funding Contributions" x-axislabel="Type" y-axislabel="Total Contribution"></cotui-chart>              </li> 
            </li>
          </ul>
        </div>
      </div>
    
    </div>
</div>
<!-- cot-app:body end-->

<!--
3. FOOTER
Everything inside the cot-app:footer tag will be loaded at the end of the page's BODY tag.
It should contain script references that this application requires.
-->
<!-- cot-app:footer -->

<!-- From here to the next endbuild tag, all the files will be concatenated into a single file called main.js: -->
<!--@exec startBuildTagWithCacheBuster('scripts/main.js')-->
<!-- CoreJS uses the following core:js/endinject tag to inject bower_components javascript file references: -->
<!-- core:js -->
<!-- endinject -->

<!-- place your application script references here: -->
<script type="text/javascript" src="<!-- @echo SRC_PATH -->/scripts/AffordableHousingData.js"></script>
<script type="text/javascript" src="<!-- @echo SRC_PATH -->/scripts/main.js"></script>

<!-- endbuild -->

<!--@if ENV!='prod'-->
<!-- Here we log out some debug info for non-production builds-->

<script type="text/javascript">
  console.log('fepe_housing running on <!--@echo ENV--> environment');
  console.log('fepe_housing qa release: <!--@echo QA_RELEASE-->');
  console.log('fepe_housing build: <!--@echo BUILD_ID-->');
</script>
<!--@endif-->

<!-- cot-app:footer end-->
